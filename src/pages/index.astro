---
import Layout from '~/layouts/PageLayout.astro';

import Header from '~/components/widgets/Header.astro';
import Hero from '~/components/widgets/Hero.astro';
import AdvancedHero from '~/components/widgets/AdvancedHero.astro';
import Features from '~/components/widgets/Features.astro';
import AdvancedFeatures from '~/components/widgets/AdvancedFeatures.astro';
import Steps2 from '~/components/widgets/Steps2.astro';
import Content from '~/components/widgets/Content.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import Button from '~/components/ui/Button.astro';

import FAQs from '~/components/widgets/FAQs.astro';
import BlogLatestPosts from '~/components/widgets/BlogLatestPosts.astro';
import { initAnimations } from '~/utils/scrollAnimations.js';

// Import video and poster image
import molyDemoVideo from '~/assets/videos/moly-chat-demo.mov';
import heroPosterImage from '~/assets/images/hero-image.png';

const metadata = {
  title: 'Moly App - Open-Source Cross-Platform AI LLM Voice Chat Client',
};
---

<Layout metadata={metadata}>
  <Fragment slot="header">
    <Header
      position="left"
      links={[
        { text: 'Features', href: '#features' },
        { text: 'Use Cases', href: '#use-cases' },
        { text: 'FAQs', href: '#faqs' },
      ]}
      isSticky
      showToggleTheme
      actions={[
        {
          variant: 'secondary',
          text: 'View on GitHub',
          href: 'https://github.com/moxin-org/moly',
          target: '_blank',
          icon: 'tabler:brand-github',
        },
        {
          variant: 'primary',
          text: 'Download',
          href: 'https://github.com/moxin-org/moly/releases',
          target: '_blank',
          icon: 'tabler:download',
        },
      ]}
      isSticky
    />
  </Fragment>

  <!-- Hero2 Widget ******************* -->

  <AdvancedHero
    enableAnimatedBackground={true}
    enableScrollingTags={true}
    tags={[
      { text: 'Rust', icon: 'ðŸ¦€' },
      { text: 'Cross-Platform', icon: 'ðŸŒ' },
      { text: 'AI Voice Chat', icon: 'ðŸŽ¤' },
      { text: 'Local LLMs', icon: 'ðŸ ' },
      { text: 'Open Source', icon: 'â­' },
      { text: 'Privacy First', icon: 'ðŸ”’' },
      { text: 'Makepad', icon: 'ðŸŽ¨' },
      { text: 'Real-time', icon: 'âš¡' },
    ]}
    tagline="Open-Source â€¢ AI â€¢ LLM â€¢ Voice â€¢ Chat â€¢ Client"
    actions={[
      {
        variant: 'primary',
        target: '_blank',
        text: 'Download Now',
        href: 'https://github.com/moxin-org/moly/releases',
        icon: 'tabler:download',
      },
      { text: 'Learn more', href: '#features' },
    ]}
  >
    <Fragment slot="title">
      Your <span class="text-accent dark:text-white">Cross-Platform</span> AI Companion
    </Fragment>

    <Fragment slot="subtitle">
      Built in Rust. Connect to local and remote LLMs with a beautiful, fast, and secure interface.
    </Fragment>
  </AdvancedHero>

  <!-- Advanced Features Widget *************** -->

  <AdvancedFeatures
    id="features"
    title="What is Moly App?"
    subtitle="Discover the powerful features that make Moly the ultimate AI LLM client."
    columns={3}
    cardTheme="glassmorphism"
    enableAnimation={true}
    items={[
      {
        title: 'Cross-Platform Compatibility',
        description:
          'Built with Rust and Makepad, Moly runs natively on macOS, Linux, Windows, and eventually on iOS, Android and in your web browser.',
        icon: 'tabler:device-desktop',
        theme: 'nebula',
        backContent: 'Experience seamless AI interaction across all your devices. Native performance, consistent interface, and synchronized conversations everywhere.',
        flip: true,
      },
      {
        title: 'Local and Remote LLM Support',
        description: `Connect to OpenAI, Anthropic, and other cloud providers, or run models locally with Moly Server. Complete privacy and flexibility.`,
        icon: 'tabler:cloud-computing',
        theme: 'solar',
        backContent: 'Choose from cutting-edge cloud models or run open-source models locally. Switch between providers seamlessly without losing context.',
        flip: true,
      },
      {
        title: 'Lightning Fast Performance',
        description:
          'Built in Rust for maximum performance and memory safety. Experience instant responses and smooth interactions.',
        icon: 'tabler:rocket',
        theme: 'cosmic',
        backContent: 'Blazing fast inference speeds, optimized memory usage, and native performance. Handle complex conversations without breaking a sweat.',
        flip: true,
      },
      {
        title: 'Open Source & Extensible',
        description: `Fully open source with Apache 2.0 license. Extend functionality with MolyKit and build custom AI applications.`,
        icon: 'tabler:code',
        theme: 'vintage',
        backContent: 'Join our open-source community. Contribute to the project, extend functionality, or build your own AI-powered applications using our framework.',
        flip: true,
      },
      {
        title: 'Privacy-First Design',
        description: `Your conversations stay private. Use local models for complete privacy or choose cloud providers securely.`,
        icon: 'tabler:shield-lock',
        theme: 'fresh-nature',
        backContent: 'Complete data sovereignty with local models. End-to-end encryption for cloud conversations. You own your data, always.',
        flip: true,
      },
      {
        title: 'AI Agent Integration',
        description: `Connect to MoFa servers to interact with AI agents. Build and deploy custom AI workflows and automation.`,
        icon: 'tabler:robot',
        theme: 'default',
        backContent: 'Deploy custom AI agents, create automated workflows, and integrate with external services. Build sophisticated AI-powered solutions.',
        flip: true,
      },
    ]}
  />

  <!-- Video Demo Section *************** -->

  <section class="py-12 md:py-20 bg-blue-50 dark:bg-slate-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="text-center mb-8">
        <h2 class="text-3xl md:text-4xl font-bold mb-4 dark:text-white">See Moly in Action</h2>
        <p class="text-lg text-muted dark:text-slate-300">Watch how Moly App makes AI interactions seamless and intuitive</p>
      </div>
      <div class="relative m-auto max-w-5xl">
        <div class="relative rounded-2xl overflow-hidden shadow-2xl">
          <video class="mx-auto w-full" autoplay muted loop playsinline poster={heroPosterImage.src}>
            <source src={molyDemoVideo} type="video/mp4" />
            Your browser does not support the video tag.
          </video>
        </div>
      </div>
    </div>
  </section>

  <!-- Content Widget **************** -->

  <Content
    id="use-cases"
    title="Use cases"
    subtitle="Discover how Moly App serves developers, researchers, and AI enthusiasts across different scenarios."
    isReversed
    items={[
      {
        title: 'Extensible:',
        description:
          'Developers love Moly for its extensibility and performance. Built on the robust Makepad UI toolkit and Project Robius framework, Moly provides a solid foundation for AI application development. Use MolyKit widgets and utilities to build your own AI-powered applications.',
      },
      {
        title: 'Benefits:',
        description: `Access to MolyKit framework for building custom AI applications. <br /> Cross-platform deployment with a single codebase written in Rust. <br /> Integration with multiple AI providers and local model support. <br /> Open source architecture allowing full customization and contribution.`,
      },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1555066931-4365d14bab8c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80',
      alt: 'Developer workspace',
    }}
  >
    <Fragment slot="content">
      <h3 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2">
        For Developers: <br /><span class="text-2xl">Build the future of AI</span>
      </h3>
    </Fragment>

    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </Content>

  <!-- Content Widget **************** -->

  <Content
    isAfterContent={true}
    items={[
      {
        title: 'Local First:',
        description: `Privacy-conscious users choose Moly for its local model support and data sovereignty. With Moly Server, you can download and run open-source LLMs entirely on your machine, ensuring your conversations never leave your device. Perfect for sensitive work or personal use.`,
      },
      {
        title: 'Benefits:',
        description: `Complete data privacy with local model execution. <br /> No internet connection required for local models. <br /> Support for popular open-source models like Llama, Mistral, and more. <br /> Easy model management with search, download, and switching capabilities. <br /> OpenAI-compatible API for seamless integration with existing tools.`,
      },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1563986768609-322da13575f3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80',
      alt: 'Privacy and Security',
    }}
  >
    <Fragment slot="content">
      <h3 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2">
        Privacy First: <br /><span class="text-2xl">Your data stays yours</span>
      </h3>
    </Fragment>

    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </Content>

  <!-- Content Widget **************** -->

  <Content
    isReversed
    isAfterContent={true}
    items={[
      {
        title: 'Multiple Sessions:',
        description: `Researchers and AI enthusiasts use Moly to experiment with cutting-edge language models. Compare different models side-by-side, test prompts across multiple providers, and explore the latest developments in AI. The flexible provider system supports both established and emerging AI services.`,
      },
      {
        title: 'Benefits:',
        description: `Easy switching between different AI models and providers. <br /> Support for latest models from OpenAI, Anthropic, and other providers. <br /> Integration with AI agent frameworks like MoFa for advanced workflows. <br /> Clean, distraction-free interface optimized for extended research sessions.`,
      },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1451187580459-43490279c0fa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1472&q=80',
      alt: 'Research and AI',
    }}
  >
    <Fragment slot="content">
      <h3 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2">
        For Researchers: <br /><span class="text-2xl">Explore AI frontiers</span>
      </h3>
    </Fragment>

    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </Content>

  <!-- Content Widget **************** -->

  <Content
    items={[
      {
        title: 'Versatility:',
        description: `Experience true cross-platform deployment with Moly. Built with Rust and the Makepad framework, the same codebase runs natively on desktop (macOS, Linux, Windows), in web browsers, and on mobile devices. No compromises on performance or user experience across platforms.`,
      },
      {
        title: 'Benefits:',
        description: `Single codebase for all platforms reduces development time. <br /> Native performance on each platform without sacrificing features. <br /> Consistent user experience whether on desktop, web, or mobile. <br /> Easy packaging and distribution with built-in tools for all major platforms.`,
      },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1471&q=80',
      alt: 'Cross-platform development',
    }}
  >
    <Fragment slot="content">
      <h3 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2">
        Cross-Platform Deployment: <br /><span class="text-2xl">One app, everywhere</span>
      </h3>
    </Fragment>

    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </Content>

  <CallToAction
    id="download"
    title="Download our app now!"
    subtitle="Access a variety of stunning templates, simplify your creative process, and elevate your online presence."
  >
    <div slot="actions" class="flex max-w-sm gap-4"></div>
  </CallToAction>

  <!-- FAQs Widget ******************* -->

  <FAQs
    id="faqs"
    title="Frequently Asked Questions"
    items={[
      {
        title: 'What platforms does Moly App support?',
        description:
          'Moly App runs natively on macOS, Linux, and Windows. It also works in web browsers and has experimental support for Android and iOS. All platforms share the same codebase and feature set.',
        icon: 'tabler:chevrons-right',
      },
      {
        title: 'Can I use Moly App with local models for privacy?',
        description: `Absolutely! Moly App supports local model execution through Moly Server. You can download and run open-source models like Llama, Mistral, and others entirely on your machine without sending data to external servers.`,
        icon: 'tabler:chevrons-right',
      },
      {
        title: 'Is Moly App really free and open source?',
        description:
          'Yes, Moly App is completely free and licensed under Apache 2.0. You can use it for personal and commercial purposes, modify the source code, and contribute to the project. There are no hidden costs or premium features.',
        icon: 'tabler:chevrons-right',
      },
      {
        title: 'How do I add my own AI provider to Moly?',
        description: `Moly supports any OpenAI-compatible API. You can add custom providers through the Providers Dashboard, or contribute new providers to the project. The MolyKit framework also allows building custom integrations.`,
        icon: 'tabler:chevrons-right',
      },
    ]}
  >
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </FAQs>

  <!-- Steps2 Widget ****************** -->

  <Steps2
    title="Get Help & Connect"
    subtitle="Need assistance or want to contribute? Connect with the Moly App community!"
    callToAction={{
      text: 'Join the Discord',
      href: 'https://discord.gg/g2S5ESMz4Q',
    }}
    items={[
      {
        title: 'Report Issues',
        description: 'github.com/moxin-org/moly/issues',
        icon: 'tabler:bug',
      },
      {
        title: 'Discussions',
        description: 'Community support and ideas',
        icon: 'tabler:messages',
      },
      {
        title: 'Contribute',
        description: 'Help improve Moly App',
        icon: 'tabler:git-branch',
      },
    ]}
  />

  <!-- BlogLatestPost Widget **************** -->

  <!--

  <BlogLatestPosts
    id="blog"
    title="Stay updated with Moly App"
    information={`Explore our collection of articles about AI development, local models, cross-platform development with Rust, and the latest features in Moly App.`}
  >
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </BlogLatestPosts>

  -->
</Layout>

<script>
  // Initialize scroll animations when the page loads
  document.addEventListener('DOMContentLoaded', () => {
    // Import and initialize animations
    import('../utils/scrollAnimations.js').then(module => {
      module.initAnimations();
    }).catch(err => {
      console.warn('Could not load scroll animations:', err);
    });
  });
</script>
